/*! ToSic_ToSxc 2015-05-15 */

$2sxc.ng={appAttribute:"sxc-app",ngAttrPrefixes:["ng-","data-ng-","ng:","x-ng-"],iidAttrNames:["app-instanceid","data-instanceid","id"],bootstrap:function(a,b,c,d,e){c=c||$2sxc.ng.findInstanceId(a);var f=$.ServicesFramework(c);angular.module("confSxcApp"+c,[]).constant("AppInstanceId",c).constant("AppServiceFramework",f).constant("HttpHeaders",{ModuleId:c,TabId:f.getTabId(),RequestVerificationToken:f.getAntiForgeryValue()});var g=["confSxcApp"+c,"2sxc4ng"].concat(d||[b]);angular.element(document).ready(function(){angular.bootstrap(a,g,e)})},findInstanceId:function(a){for(var b,c=angular.element(a),d=0;d<$2sxc.ng.iidAttrNames.length;d++)b=c.attr($2sxc.ng.iidAttrNames[d]);if(b){var e=parseInt(b.toString().replace(/\D/g,""));if(!e)throw"iid or instanceId (the DNN moduleid) not supplied and automatic lookup failed. Please set app-tag attribute iid or give id in bootstrap call";return e}},bootstrapAll:function(a){a=a||document;var b=a.querySelectorAll("["+$2sxc.ng.appAttribute+"]");angular.forEach(b,function(a){var b=a.getAttribute($2sxc.ng.appAttribute),c={strictDi:null!==$2sxc.ng.getNgAttribute(a,"strict-di")};$2sxc.ng.bootstrap(a,b,null,null,c)})},autoRunBootstrap:function(){angular&&angular.element(document).ready(function(){$2sxc.ng.bootstrapAll()})},getNgAttribute:function(a,b){var c,d,e=$2sxc.ng.ngAttrPrefixes.length;for(a=angular.element(a),d=0;e>d;++d)if(c=$2sxc.ng.ngAttrPrefixes[d]+b,"string"==typeof(c=a.attr(c)))return c;return null}},$2sxc.ng.autoRunBootstrap(),angular.module("2sxc4ng",["ng"]).config(["$httpProvider","HttpHeaders",function(a,b){angular.extend(a.defaults.headers.common,b),a.interceptors.push(["$q","sxc",function(a,b){return{request:function(a){return a.url=b.resolveServiceUrl(a.url),a},responseError:function(c){return b.showDetailedHttpError(c),a.reject(c)}}}])}]).factory("sxc",["AppInstanceId",function(a){if(console.log("creating sxc service for id: "+a),!$2sxc)throw"the Angular service 'sxc' can't find the global $2sxc controller";var b=$2sxc(a);return b}]).factory("content",["$http",function(a){var b={};return b.get=function(b,c){return a.get(c?"app-content/"+b+"/"+c:"app-content/"+b)},b.update=function(a,b,c){},b["delete"]=function(b,c){return a["delete"]("app-content/"+b+"/"+c)},b.getQuery=function(b){return a.get("app-query/"+b)},b}]);
//# sourceMappingURL=2sxc4ng.min.js.map