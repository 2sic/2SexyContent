$2sxc.ng={appAttribute:"sxc-app",ngAttrPrefixes:["ng-","data-ng-","ng:","x-ng-"],iidAttrNames:["app-instanceid","data-instanceid","id"],cbidAttrName:"data-cb-id",ngAttrDependencies:"dependencies",bootstrap:function(t,n,e,r,o){e=e||$2sxc.ng.findInstanceId(t)||$2sxc.urlParams.get("mid");var a=$2sxc.ng.findContentBlockId(t)||$2sxc.urlParams.get("cbid")||e,c=$.ServicesFramework(e),i=angular.module("confSxcApp"+e+"-"+a,[]).constant("AppInstanceId",e).constant("ContentBlockId",a).constant("AppServiceFramework",c).constant("HttpHeaders",{ModuleId:e,ContentBlockId:a,TabId:c.getTabId(),RequestVerificationToken:c.getAntiForgeryValue(),"Debugging-Hint":"bootstrapped by 2sxc4ng","Cache-Control":"no-cache",Pragma:"no-cache"}),s=[i.name,"2sxc4ng"].concat(r||[n]);angular.element(document).ready(function(){try{angular.bootstrap(t,s,o)}catch(n){console&&console.error&&console.error(n)}})},findInstanceId:function(t){for(var n,e=angular.element(t),r=0;r<$2sxc.ng.iidAttrNames.length;r++)if(n=e.attr($2sxc.ng.iidAttrNames[r])){var o=parseInt(n.toString().replace(/\D/g,""));if(!o)throw"iid or instanceId (the DNN moduleid) not supplied and automatic lookup failed. Please set app-tag attribute iid or give id in bootstrap call";return o}},findContentBlockId:function(t){for(var n;t.getAttribute;){if(n=t.getAttribute($2sxc.ng.cbidAttrName))return n;t=t.parentNode}return null},_closest:function(t,n){for(;t;){if(n(t))return t;t=t.parentNode}},bootstrapAll:function(t){t=t||document;var n=t.querySelectorAll("["+$2sxc.ng.appAttribute+"]");angular.forEach(n,function(t){var n=t.getAttribute($2sxc.ng.appAttribute),e={strictDi:null!==$2sxc.ng.getNgAttribute(t,"strict-di")},r=$2sxc.ng.getNgAttribute(t,$2sxc.ng.ngAttrDependencies);r&&(r=r.split(",")),$2sxc.ng.bootstrap(t,n,null,r,e)})},autoRunBootstrap:function(){window.bootstrappingAlreadyStarted||(window.bootstrappingAlreadyStarted=!0,angular&&angular.element(document).ready(function(){$2sxc.ng.bootstrapAll()}))},getNgAttribute:function(t,n){var e,r,o=$2sxc.ng.ngAttrPrefixes.length;for(t=angular.element(t),r=0;o>r;++r)if(e=$2sxc.ng.ngAttrPrefixes[r]+n,"string"==typeof(e=t.attr(e)))return e;return null}},$2sxc.ng.autoRunBootstrap(),angular.module("2sxc4ng",["ng"]).config(["$httpProvider","HttpHeaders",function(t,n){angular.extend(t.defaults.headers.common,n),t.interceptors.push(["$q","sxc",function(t,n){return{request:function(t){return t.url=n.resolveServiceUrl(t.url),t},responseError:function(e){return e.config.ignoreErrors||n.showDetailedHttpError(e),t.reject(e)}}}])}]).factory("$2sxc",function(){if(!$2sxc)throw"the Angular service 'sxc' can't find the global $2sxc controller";return $2sxc}).factory("sxc",["AppInstanceId","$2sxc",function(t,n){window.console&&console.log("creating sxc service for id: "+t);var e=n(t);return e}]).factory("content",["$http",function(t){return function(n){var e={};return e.contentType=n,e.root="app-content/"+n,e.get=e.read=function(n){return t.get(e.root+(n?"/"+n:""))},e.create=function(n){return t.post(e.root,n)},e.update=e.patch=function(n,r){var o=r||n.Id||n.id;return t.post(e.root+"/"+o,n)},e["delete"]=function(n){return t["delete"](e.root+"/"+n)},e}}]).factory("query",["$http",function(t){return function(n){var e={};return e.root="app-query/"+n,e.get=function(n){return t.get(e.root,n)},e}}]).directive("sxcToolbar",["AppInstanceId",function(t){return{restrict:"E",scope:{entity:"&for",entityId:"&forId",actions:"&custom",forContentType:"&forContentType"},link:function(n,e,r){var o=$2sxc(t).manage,a="";o&&(void 0!==n.entity()?a=o.getToolbar([{entity:n.entity(),action:"edit"}]):void 0!==n.entityId()?a=o.getToolbar([{entityId:n.entityId(),action:"edit"}]):void 0!==n.actions()?a=o.getToolbar(n.actions()):void 0!==n.forContentType()&&(a=o.getToolbar([{action:"new",contentType:n.forContentType()}]))),e.html(a)}}}]);
//# sourceMappingURL=2sxc4ng.min.js.map
