(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"2FQU":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("merk"),o=i("xWkI"),a=i("1C3z"),r=i("IugH"),s=i("2pW/"),c=function(){function t(t,e){this.store=t,this.snackBar=e}return t.prototype.loadDebugEnabled=function(t){this.store.dispatch(o.a({debugEnabled:t}))},t.prototype.toggleDebugEnabled=function(){var t;this.store.dispatch(o.b()),this.store.select(n.c).subscribe((function(e){t=e})),this.snackBar.open(t?"debug mode enabled":"debug mode disabled",null,{duration:3e3})},t.prototype.getDebugEnabled=function(){return this.store.select(n.c)},t.\u0275fac=function(e){return new(e||t)(a.ac(r.i),a.ac(s.b))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},CeOT:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("1C3z"),o=i("+raR"),a=i("ZSGP"),r=function(){function t(){this.filter=""}return t.prototype.agInit=function(t){this.params=t},t.prototype.isFilterActive=function(){return""!==this.filter},t.prototype.doesFilterPass=function(t){var e=this.params.valueGetter(t.node);return null!=e&&e.toString()===this.filter},t.prototype.getModel=function(){if(this.isFilterActive())return{filterType:"boolean",filter:this.filter}},t.prototype.setModel=function(t){this.filter=t?t.filter:""},t.prototype.afterGuiAttached=function(t){},t.prototype.filterChanged=function(){this.params.filterChangedCallback()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["app-boolean-filter"]],decls:7,vars:1,consts:[[3,"ngModel","ngModelChange"],["value",""],["value","true"],["value","false"]],template:function(t,e){1&t&&(n.Wb(0,"mat-radio-group",0),n.ec("ngModelChange",(function(t){return e.filter=t}))("ngModelChange",(function(){return e.filterChanged()})),n.Wb(1,"mat-radio-button",1),n.Pc(2,"All"),n.Vb(),n.Wb(3,"mat-radio-button",2),n.Pc(4,"True"),n.Vb(),n.Wb(5,"mat-radio-button",3),n.Pc(6,"False"),n.Vb(),n.Vb()),2&t&&n.qc("ngModel",e.filter)},directives:[o.b,a.r,a.u,o.a],styles:[".mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]}),t}()},XySb:function(t,e,i){"use strict";i.r(e);var n=i("5/c3"),o=i("LR82"),a=i("z5yO"),r=i("1C3z"),s=i("BLjT"),c=i("Hs2j"),l=i("2FQU"),p=i("9HSk"),u=i("Qc/f"),d=i("r4gC"),b=i("8AiQ"),h=i("JNB8"),m=i("Ata6"),f=function(){function t(t){this.sanitizer=t}return t.prototype.ngOnInit=function(){this.gettingStartedSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.gettingStartedUrl)},t.\u0275fac=function(e){return new(e||t)(r.Qb(m.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-getting-started"]],inputs:{gettingStartedUrl:"gettingStartedUrl"},decls:1,vars:1,consts:[[1,"iframe",3,"src"]],template:function(t,e){1&t&&r.Rb(0,"iframe",0),2&t&&r.qc("src",e.gettingStartedSafe,r.Gc)},styles:[".iframe[_ngcontent-%COMP%]{border:none;width:100%;height:calc(100vh - 209px)}@media (max-width:600px){.iframe[_ngcontent-%COMP%]{height:calc(100vh - 161px)}}"]}),t}(),g=i("D57K"),v=i("KLQV"),y=i("OeRG"),C=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-data-items"]],decls:7,vars:1,consts:[["matRipple","","matTooltip","Add item",1,"chip-component","highlight"],[1,"chip-box"],[1,"chip"],[1,"like-button"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"span",2),r.Pc(3),r.Vb(),r.Vb(),r.Wb(4,"div",3),r.Wb(5,"mat-icon"),r.Pc(6,"add"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(3),r.Qc(e.value))},directives:[y.q,u.a,d.a],styles:[".chip-box[_ngcontent-%COMP%]{width:40px}"]}),t}();function T(t,e){if(1&t&&(r.Wb(0,"div",2),r.Wb(1,"div",3),r.Wb(2,"span",4),r.Pc(3),r.Vb(),r.Vb(),r.Wb(4,"div",5),r.Wb(5,"mat-icon"),r.Pc(6,"dns"),r.Vb(),r.Vb(),r.Vb()),2&t){var i=r.ic();r.Bb(3),r.Qc(i.value)}}function V(t,e){if(1&t&&(r.Wb(0,"div",6),r.Wb(1,"div",3),r.Wb(2,"span",4),r.Pc(3),r.Vb(),r.Vb(),r.Wb(4,"div",7),r.Wb(5,"mat-icon"),r.Pc(6,"share"),r.Vb(),r.Vb(),r.Vb()),2&t){var i=r.ic();r.sc("matTooltip","This content-type shares the definition of #",i.contentType.SharedDefId," so you can't edit it here. Read 2sxc.org/help?tag=shared-types"),r.Bb(3),r.Qc(i.value)}}var W=function(){function t(){}return t.prototype.agInit=function(t){this.contentType=t.data,this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-data-fields"]],decls:2,vars:2,consts:[["matRipple","","class","chip-component highlight","matTooltip","Edit fields",4,"ngIf"],["class","chip-component disabled",3,"matTooltip",4,"ngIf"],["matRipple","","matTooltip","Edit fields",1,"chip-component","highlight"],[1,"chip-box"],[1,"chip"],[1,"like-button"],[1,"chip-component","disabled",3,"matTooltip"],[1,"like-button","disabled"]],template:function(t,e){1&t&&(r.Nc(0,T,7,1,"div",0),r.Nc(1,V,7,2,"div",1)),2&t&&(r.qc("ngIf",!e.contentType.UsesSharedDef),r.Bb(1),r.qc("ngIf",e.contentType.UsesSharedDef))},directives:[b.t,y.q,u.a,d.a],styles:[".chip-box[_ngcontent-%COMP%]{width:32px}"]}),t}();function w(t,e){if(1&t){var i=r.Xb();r.Wb(0,"div",8),r.ec("click",(function(){return r.Ec(i),r.ic().createOrEditMetadata()})),r.Wb(1,"mat-icon"),r.Pc(2,"edit"),r.Vb(),r.Vb()}}function P(t,e){1&t&&(r.Wb(0,"div",9),r.Wb(1,"mat-icon"),r.Pc(2,"edit"),r.Vb(),r.Vb())}function k(t,e){if(1&t){var i=r.Xb();r.Wb(0,"div",10),r.ec("click",(function(){return r.Ec(i),r.ic().openPermissions()})),r.Wb(1,"mat-icon"),r.Pc(2,"person"),r.Vb(),r.Vb()}}function x(t,e){1&t&&(r.Wb(0,"div",9),r.Wb(1,"mat-icon"),r.Pc(2,"person"),r.Vb(),r.Vb())}function S(t,e){if(1&t){var i=r.Xb();r.Wb(0,"div",11),r.ec("click",(function(){return r.Ec(i),r.ic().editContentType()})),r.Wb(1,"mat-icon"),r.Pc(2,"settings"),r.Vb(),r.Vb()}}function D(t,e){1&t&&(r.Wb(0,"div",9),r.Wb(1,"mat-icon"),r.Pc(2,"settings"),r.Vb(),r.Vb())}function I(t,e){if(1&t){var i=r.Xb();r.Wb(0,"div",12),r.ec("click",(function(){return r.Ec(i),r.ic().deleteContentType()})),r.Wb(1,"mat-icon"),r.Pc(2,"delete"),r.Vb(),r.Vb()}}function N(t,e){1&t&&(r.Wb(0,"div",9),r.Wb(1,"mat-icon"),r.Pc(2,"delete"),r.Vb(),r.Vb())}var O=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.contentType=this.params.data;var e=this.params.enableAppFeaturesGetter();this.showPermissions=e&&this.isGuid(this.contentType.StaticName)},t.prototype.refresh=function(t){return!0},t.prototype.editContentType=function(){this.params.onEdit(this.contentType)},t.prototype.createOrEditMetadata=function(){this.params.onCreateOrEditMetadata(this.contentType)},t.prototype.openExport=function(){this.params.onOpenExport(this.contentType)},t.prototype.openImport=function(){this.params.onOpenImport(this.contentType)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.contentType)},t.prototype.deleteContentType=function(){this.params.onDelete(this.contentType)},t.prototype.isGuid=function(t){return new RegExp(/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/i).test(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-data-actions"]],decls:15,vars:8,consts:[[1,"actions-component"],["class","like-button highlight","matRipple","","matTooltip","Metadata",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["matRipple","","matTooltip","Export",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Import",1,"like-button","highlight",3,"click"],["class","like-button highlight","matRipple","","matTooltip","Permissions",3,"click",4,"ngIf"],["class","like-button highlight","matRipple","","matTooltip","Settings",3,"click",4,"ngIf"],["class","like-button highlight","matRipple","","matTooltip","Delete",3,"click",4,"ngIf"],["matRipple","","matTooltip","Metadata",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Settings",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Nc(1,w,3,0,"div",1),r.Nc(2,P,3,0,"div",2),r.Wb(3,"div",3),r.ec("click",(function(){return e.openExport()})),r.Wb(4,"mat-icon"),r.Pc(5,"cloud_download"),r.Vb(),r.Vb(),r.Wb(6,"div",4),r.ec("click",(function(){return e.openImport()})),r.Wb(7,"mat-icon"),r.Pc(8,"cloud_upload"),r.Vb(),r.Vb(),r.Nc(9,k,3,0,"div",5),r.Nc(10,x,3,0,"div",2),r.Nc(11,S,3,0,"div",6),r.Nc(12,D,3,0,"div",2),r.Nc(13,I,3,0,"div",7),r.Nc(14,N,3,0,"div",2),r.Vb()),2&t&&(r.Bb(1),r.qc("ngIf",!e.contentType.UsesSharedDef),r.Bb(1),r.qc("ngIf",e.contentType.UsesSharedDef),r.Bb(7),r.qc("ngIf",e.showPermissions),r.Bb(1),r.qc("ngIf",!e.showPermissions),r.Bb(1),r.qc("ngIf",!e.contentType.UsesSharedDef),r.Bb(1),r.qc("ngIf",e.contentType.UsesSharedDef),r.Bb(1),r.qc("ngIf",!e.contentType.UsesSharedDef),r.Bb(1),r.qc("ngIf",e.contentType.UsesSharedDef))},directives:[b.t,y.q,u.a,d.a],styles:[""]}),t}(),Q=i("zsK+"),R=i("JzAw"),A=i("/NRo"),E=i("2pW/"),F=i("G6Ml"),G=i("hOvr"),B=i("LuBX"),q=i("ZSGP");function M(t,e){if(1&t){var i=r.Xb();r.Wb(0,"button",9),r.ec("click",(function(){return r.Ec(i),r.ic().createGhost()})),r.Wb(1,"mat-icon"),r.Pc(2,"share"),r.Vb(),r.Vb()}}function _(t,e){if(1&t&&(r.Wb(0,"mat-option",10),r.Pc(1),r.Vb()),2&t){var i=e.$implicit;r.qc("value",i.value),r.Bb(1),r.Rc(" ","Scope: "+i.name," ")}}var L=function(){function t(t,e,i,n,a,r){this.router=t,this.route=e,this.contentTypesService=i,this.globalConfigurationService=n,this.appDialogConfigService=a,this.snackBar=r,this.debugEnabled=!1,this.columnDefs=[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Content Type",field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.showContentItems.bind(this),valueGetter:this.nameValueGetter},{headerName:"Items",field:"Items",width:102,headerClass:"dense",cellClass:"secondary-action no-padding",sortable:!0,filter:"agNumberColumnFilter",cellRenderer:"dataItemsComponent",onCellClicked:this.addItem.bind(this)},{headerName:"Fields",field:"Fields",width:94,headerClass:"dense",cellClass:"secondary-action no-padding",sortable:!0,filter:"agNumberColumnFilter",cellRenderer:"dataFieldsComponent",onCellClicked:this.editFields.bind(this)},{width:240,cellClass:"secondary-action no-padding",cellRenderer:"dataActionsComponent",cellRendererParams:{enableAppFeaturesGetter:this.enableAppFeaturesGetter.bind(this),onEdit:this.editContentType.bind(this),onCreateOrEditMetadata:this.createOrEditMetadata.bind(this),onOpenExport:this.openExport.bind(this),onOpenImport:this.openImport.bind(this),onOpenPermissions:this.openPermissions.bind(this),onDelete:this.deleteContentType.bind(this)}},{headerName:"Description",field:"Description",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"}],this.frameworkComponents={idFieldComponent:R.a,dataItemsComponent:C,dataFieldsComponent:W,dataActionsComponent:O},this.modules=v.a,this.enableAppFeatures=!1,this.subscription=new o.a,this.hasChild=!!this.route.snapshot.firstChild.firstChild,this.scope=Q.a.scopes.default.value,this.defaultScope=Q.a.scopes.default.value}return t.prototype.ngOnInit=function(){return Object(g.b)(this,void 0,void 0,(function(){var t,e=this;return Object(g.e)(this,(function(i){switch(i.label){case 0:return[4,this.appDialogConfigService.getDialogSettings().toPromise()];case 1:return t=i.sent(),this.enableAppFeatures=!t.IsContent,this.fetchScopes(),this.fetchContentTypes(),this.refreshOnChildClosed(),this.subscription.add(this.globalConfigurationService.getDebugEnabled().subscribe((function(t){e.debugEnabled=t}))),[2]}}))}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription=null},t.prototype.showContentItems=function(t){this.router.navigate(["items/"+t.data.StaticName],{relativeTo:this.route.firstChild})},t.prototype.editContentType=function(t){this.router.navigate(t?[this.scope+"/"+t.Id+"/edit"]:[this.scope+"/add"],{relativeTo:this.route.firstChild})},t.prototype.fetchContentTypes=function(){var t=this;this.contentTypesService.retrieveContentTypes(this.scope).subscribe((function(e){t.contentTypes=e}))},t.prototype.fetchScopes=function(){var t=this;this.contentTypesService.getScopes().subscribe((function(e){t.scopeOptions=e}))},t.prototype.createGhost=function(){var t=this,e=window.prompt("To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost");e&&this.contentTypesService.createGhost(e).subscribe((function(e){t.fetchContentTypes()}))},t.prototype.changeScope=function(t){var e=t.value;"Other"===e&&((e=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason."))?this.scopeOptions.find((function(t){return t.value===e}))||this.scopeOptions.push({name:e,value:e}):e=Q.a.scopes.default.value),this.scope=e,this.fetchContentTypes(),this.scope!==this.defaultScope&&this.snackBar.open("Warning! You are in a special scope. Changing things here could easily break functionality",null,{duration:2e3})},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.StaticName},t.prototype.nameValueGetter=function(t){var e=t.data;return e.Name!==e.Label?e.Label+" ("+e.Name+")":e.Name},t.prototype.enableAppFeaturesGetter=function(){return this.enableAppFeatures},t.prototype.addItem=function(t){this.router.navigate(["edit/"+JSON.stringify({items:[{ContentTypeName:t.data.StaticName}]})],{relativeTo:this.route.firstChild})},t.prototype.editFields=function(t){var e=t.data;e.UsesSharedDef||this.router.navigate(["fields/"+e.StaticName],{relativeTo:this.route.firstChild})},t.prototype.createOrEditMetadata=function(t){var e={items:t.Metadata?[{EntityId:t.Metadata.Id.toString()}]:[{ContentTypeName:Q.a.contentTypes.contentType,For:{Target:Q.a.metadata.contentType.target,String:t.StaticName},Prefill:{Label:t.Name,Description:t.Description}}]};this.router.navigate(["edit/"+JSON.stringify(e)],{relativeTo:this.route.firstChild})},t.prototype.openExport=function(t){this.router.navigate(["export/"+t.StaticName],{relativeTo:this.route.firstChild})},t.prototype.openImport=function(t){this.router.navigate([t.StaticName+"/import"],{relativeTo:this.route.firstChild})},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+Q.a.metadata.entity.type+"/"+Q.a.keyTypes.guid+"/"+t.StaticName],{relativeTo:this.route.firstChild})},t.prototype.deleteContentType=function(t){var e=this;confirm("Are you sure you want to delete '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.contentTypesService.delete(t).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchContentTypes()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(a.a)((function(t){return t instanceof n.b}))).subscribe((function(e){var i=t.hasChild;t.hasChild=!!t.route.snapshot.firstChild.firstChild,!t.hasChild&&i&&t.fetchContentTypes()})))},t.\u0275fac=function(e){return new(e||t)(r.Qb(n.c),r.Qb(n.a),r.Qb(A.a),r.Qb(l.a),r.Qb(c.a),r.Qb(E.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-data"]],decls:12,vars:13,consts:[[1,"grid-wrapper-nav"],[1,"ag-theme-material",3,"rowData","columnDefs","modules","frameworkComponents","enableCellTextSelection","suppressScrollOnNewData","animateRows","accentedSort","valueCache","headerHeight"],[1,"scope-box"],["mat-icon-button","","color","accent","matTooltip","Create a ghost content type",3,"click",4,"ngIf"],["appearance","standard","color","accent",1,"scope-box__dropdown"],["name","Scope",3,"ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","Other"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new content type",1,"grid-fab",3,"click"],["mat-icon-button","","color","accent","matTooltip","Create a ghost content type",3,"click"],[3,"value"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"ag-grid-angular",1),r.Wb(2,"div",2),r.Nc(3,M,3,0,"button",3),r.Wb(4,"mat-form-field",4),r.Wb(5,"mat-select",5),r.ec("selectionChange",(function(t){return e.changeScope(t)})),r.Nc(6,_,2,2,"mat-option",6),r.Wb(7,"mat-option",7),r.Pc(8,"Scope: Other..."),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(9,"button",8),r.ec("click",(function(){return e.editContentType(null)})),r.Wb(10,"mat-icon"),r.Pc(11,"add"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(1),r.qc("rowData",e.contentTypes)("columnDefs",e.columnDefs)("modules",e.modules)("frameworkComponents",e.frameworkComponents)("enableCellTextSelection",!0)("suppressScrollOnNewData",!0)("animateRows",!0)("accentedSort",!0)("valueCache",!0)("headerHeight",32),r.Bb(2),r.qc("ngIf",e.debugEnabled),r.Bb(2),r.qc("ngModel",e.scope),r.Bb(1),r.qc("ngForOf",e.scopeOptions))},directives:[F.a,b.t,G.c,B.a,q.r,q.u,b.s,y.l,p.b,u.a,d.a],styles:["ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 286px)}@media (max-width:600px){ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 238px)}}.scope-box[_ngcontent-%COMP%]{margin-right:66px;margin-left:8px;display:flex;align-items:flex-end;overflow:hidden}.scope-box__dropdown[_ngcontent-%COMP%]{width:200px;margin-top:-14px;font-size:14px;height:auto}"]}),t}(),U=function(){function t(){}return t.prototype.agInit=function(t){this.params=t},t.prototype.refresh=function(t){return!0},t.prototype.editQuery=function(){this.params.onEditQuery(this.params.data)},t.prototype.cloneQuery=function(){this.params.onCloneQuery(this.params.data)},t.prototype.exportQuery=function(){this.params.onExportQuery(this.params.data)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.params.data)},t.prototype.deleteQuery=function(){this.params.onDelete(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-queries-actions"]],decls:16,vars:0,consts:[[1,"actions-component"],["matRipple","","matTooltip","Edit",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Copy",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Export",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.ec("click",(function(){return e.editQuery()})),r.Wb(2,"mat-icon"),r.Pc(3,"edit"),r.Vb(),r.Vb(),r.Wb(4,"div",2),r.ec("click",(function(){return e.cloneQuery()})),r.Wb(5,"mat-icon"),r.Pc(6,"file_copy"),r.Vb(),r.Vb(),r.Wb(7,"div",3),r.ec("click",(function(){return e.exportQuery()})),r.Wb(8,"mat-icon"),r.Pc(9,"cloud_download"),r.Vb(),r.Vb(),r.Wb(10,"div",4),r.ec("click",(function(){return e.openPermissions()})),r.Wb(11,"mat-icon"),r.Pc(12,"person"),r.Vb(),r.Vb(),r.Wb(13,"div",5),r.ec("click",(function(){return e.deleteQuery()})),r.Wb(14,"mat-icon"),r.Pc(15,"delete"),r.Vb(),r.Vb(),r.Vb())},directives:[y.q,u.a,d.a],styles:[""]}),t}(),K=i("hvEP"),H=i("FkZr"),z=i("H0VJ"),J=i("KYsL"),j=function(){function t(t,e,i,n,a,r){this.router=t,this.route=e,this.pipelinesService=i,this.contentExportService=n,this.snackBar=a,this.dialogService=r,this.columnDefs=[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openVisualQueryDesigner.bind(this)},{width:200,cellClass:"secondary-action no-padding",cellRenderer:"queriesActionsComponent",cellRendererParams:{onEditQuery:this.editQuery.bind(this),onCloneQuery:this.cloneQuery.bind(this),onOpenPermissions:this.openPermissions.bind(this),onExportQuery:this.exportQuery.bind(this),onDelete:this.deleteQuery.bind(this)}},{headerName:"Description",field:"Description",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"}],this.frameworkComponents={idFieldComponent:R.a,queriesActionsComponent:U},this.modules=v.a,this.subscription=new o.a,this.hasChild=!!this.route.snapshot.firstChild.firstChild}return t.prototype.ngOnInit=function(){this.fetchQueries(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription=null},t.prototype.fetchQueries=function(){var t=this;this.pipelinesService.getAll(Q.a.contentTypes.query).subscribe((function(e){t.queries=e}))},t.prototype.importQuery=function(){this.router.navigate(["import"],{relativeTo:this.route.firstChild})},t.prototype.editQuery=function(t){var e={items:null===t?[{ContentTypeName:Q.a.contentTypes.query,Prefill:{TestParameters:Q.a.pipelineDesigner.testParameters}}]:[{EntityId:t.Id.toString()}]};this.router.navigate(["edit/"+JSON.stringify(e)],{relativeTo:this.route.firstChild})},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.Guid},t.prototype.openVisualQueryDesigner=function(t){var e=t.data,i={items:[{EntityId:e.Id.toString()}]};this.dialogService.openQueryDesigner(i,e.Id)},t.prototype.cloneQuery=function(t){var e=this;this.snackBar.open("Copying..."),this.pipelinesService.clonePipeline(t.Id).subscribe((function(){e.snackBar.open("Copied",null,{duration:2e3}),e.fetchQueries()}))},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+Q.a.metadata.entity.type+"/"+Q.a.keyTypes.guid+"/"+t.Guid],{relativeTo:this.route.firstChild})},t.prototype.exportQuery=function(t){this.contentExportService.exportEntity(t.Id,"Query",!0)},t.prototype.deleteQuery=function(t){var e=this;confirm("Delete Pipeline '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.pipelinesService.delete(t.Id).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchQueries()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(a.a)((function(t){return t instanceof n.b}))).subscribe((function(e){var i=t.hasChild;t.hasChild=!!t.route.snapshot.firstChild.firstChild,!t.hasChild&&i&&t.fetchQueries()})))},t.\u0275fac=function(e){return new(e||t)(r.Qb(n.c),r.Qb(n.a),r.Qb(K.a),r.Qb(H.a),r.Qb(E.b),r.Qb(z.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-queries"]],decls:14,vars:10,consts:[[1,"grid-wrapper-nav"],[1,"ag-theme-material",3,"rowData","columnDefs","modules","frameworkComponents","enableCellTextSelection","suppressScrollOnNewData","animateRows","accentedSort","valueCache","headerHeight"],[1,"grid-fab"],["spin","true"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","matTooltip","Import query",3,"click"],["mat-mini-fab","","matTooltip","Create a new query",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"ag-grid-angular",1),r.Wb(2,"eco-fab-speed-dial",2),r.Wb(3,"eco-fab-speed-dial-trigger",3),r.Wb(4,"button",4),r.Wb(5,"mat-icon",5),r.Pc(6,"add"),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"eco-fab-speed-dial-actions"),r.Wb(8,"button",6),r.ec("click",(function(){return e.importQuery()})),r.Wb(9,"mat-icon"),r.Pc(10,"cloud_upload"),r.Vb(),r.Vb(),r.Wb(11,"button",7),r.ec("click",(function(){return e.editQuery(null)})),r.Wb(12,"mat-icon"),r.Pc(13,"add"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(1),r.qc("rowData",e.queries)("columnDefs",e.columnDefs)("modules",e.modules)("frameworkComponents",e.frameworkComponents)("enableCellTextSelection",!0)("suppressScrollOnNewData",!0)("animateRows",!0)("accentedSort",!0)("valueCache",!0)("headerHeight",32))},directives:[F.a,J.b,J.d,p.b,d.a,J.a,u.a],styles:["ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 245px)}@media (max-width:600px){ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 197px)}}"]}),t}();function X(t){var e="",i="";return t.HasQuery?(e="Data (from query)",i="filter"):t.List?(e="Items (list)",i="menu"):t.ContentType||t.HasQuery?t.List||(e="Item (one)",i="looks_one"):(e="Code",i="check_box_outline_blank"),{value:e,icon:i}}var Y=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value;var e=X(t.data);this.icon=e.icon},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-views-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"matTooltip"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"mat-icon"),r.Pc(2),r.Vb(),r.Vb()),2&t&&(r.rc("matTooltip",e.value),r.Bb(2),r.Qc(e.icon))},directives:[u.a,d.a],styles:[""]}),t}();function Z(t,e){1&t&&(r.Wb(0,"mat-icon"),r.Pc(1,"visibility"),r.Vb())}function $(t,e){1&t&&(r.Wb(0,"mat-icon"),r.Pc(1,"visibility_off"),r.Vb())}var tt=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-views-show"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Nc(1,Z,2,0,"mat-icon",1),r.Nc(2,$,2,0,"mat-icon",1),r.Vb()),2&t&&(r.Bb(1),r.qc("ngIf",e.value),r.Bb(1),r.qc("ngIf",!e.value))},directives:[b.t,d.a],styles:[""]}),t}(),et=function(){function t(){}return t.prototype.agInit=function(t){this.params=t},t.prototype.refresh=function(t){return!0},t.prototype.openCode=function(){this.params.onOpenCode(this.params.data)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.params.data)},t.prototype.deleteView=function(){this.params.onDelete(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-views-actions"]],decls:10,vars:0,consts:[[1,"actions-component"],["matRipple","","matTooltip","Code",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.ec("click",(function(){return e.openCode()})),r.Wb(2,"mat-icon"),r.Pc(3,"code"),r.Vb(),r.Vb(),r.Wb(4,"div",2),r.ec("click",(function(){return e.openPermissions()})),r.Wb(5,"mat-icon"),r.Pc(6,"person"),r.Vb(),r.Vb(),r.Wb(7,"div",3),r.ec("click",(function(){return e.deleteView()})),r.Wb(8,"mat-icon"),r.Pc(9,"delete"),r.Vb(),r.Vb(),r.Vb())},directives:[y.q,u.a,d.a],styles:[""]}),t}(),it=i("CeOT"),nt=i("2Qv0"),ot=function(){function t(t,e,i,n,a){this.templatesService=t,this.router=e,this.route=i,this.snackBar=n,this.dialogService=a,this.columnDefs=[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Show",field:"IsHidden",width:70,headerClass:"dense",cellRenderer:"viewsShowComponent",sortable:!0,filter:"booleanFilterComponent",valueGetter:this.showValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.editView.bind(this)},{headerName:"Type",field:"Type",width:70,headerClass:"dense",cellClass:"no-padding",sortable:!0,filter:"agTextColumnFilter",cellRenderer:"viewsTypeComponent",valueGetter:this.typeValueGetter},{width:120,cellClass:"secondary-action no-padding",cellRenderer:"viewsActionsComponent",cellRendererParams:{onOpenCode:this.openCode.bind(this),onOpenPermissions:this.openPermissions.bind(this),onDelete:this.deleteView.bind(this)}},{headerName:"Url Key",field:"ViewNameInUrl",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Path",field:"TemplatePath",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Content",field:"ContentType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ContentType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.contentDemoValueGetter},{headerName:"Presentation",field:"PresentationType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"PresentationType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.presentationDemoValueGetter},{headerName:"Header",field:"ListContentType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ListContentType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.headerDemoValueGetter},{headerName:"Header Presentation",field:"ListPresentationType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ListPresentationType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.headerPresDemoValueGetter}],this.frameworkComponents={idFieldComponent:R.a,booleanFilterComponent:it.a,viewsTypeComponent:Y,viewsShowComponent:tt,viewsActionsComponent:et},this.modules=v.a,this.subscription=new o.a,this.hasChild=!!this.route.snapshot.firstChild.firstChild}return t.prototype.ngOnInit=function(){this.fetchTemplates(),this.fetchPolymorph(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription=null},t.prototype.fetchTemplates=function(){var t=this;this.templatesService.getAll().subscribe((function(e){t.views=e}))},t.prototype.fetchPolymorph=function(){var t=this;this.templatesService.polymorphism().subscribe((function(e){return t.polymorphism=e}))},t.prototype.editView=function(t){var e;e=null===t?{items:[{ContentTypeName:Q.a.contentTypes.template}]}:{items:[{EntityId:t.data.Id.toString()}]},this.router.navigate(["edit/"+JSON.stringify(e)],{relativeTo:this.route.firstChild})},t.prototype.editPolymorphisms=function(){if(this.polymorphism){var t={items:[this.polymorphism.Id?{EntityId:this.polymorphism.Id.toString()}:{ContentTypeName:this.polymorphism.TypeName}]};this.router.navigate(["edit/"+JSON.stringify(t)],{relativeTo:this.route.firstChild})}},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.Guid},t.prototype.showValueGetter=function(t){return!t.data.IsHidden},t.prototype.typeValueGetter=function(t){return X(t.data).value},t.prototype.contentDemoValueGetter=function(t){var e=t.data;return e.ContentType.DemoId+" "+e.ContentType.DemoTitle},t.prototype.presentationDemoValueGetter=function(t){var e=t.data;return e.PresentationType.DemoId+" "+e.PresentationType.DemoTitle},t.prototype.headerDemoValueGetter=function(t){var e=t.data;return e.ListContentType.DemoId+" "+e.ListContentType.DemoTitle},t.prototype.headerPresDemoValueGetter=function(t){var e=t.data;return e.ListPresentationType.DemoId+" "+e.ListPresentationType.DemoTitle},t.prototype.openCode=function(t){this.dialogService.openCode({items:[{Path:t.TemplatePath}]})},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+Q.a.metadata.entity.type+"/"+Q.a.keyTypes.guid+"/"+t.Guid],{relativeTo:this.route.firstChild})},t.prototype.deleteView=function(t){var e=this;confirm("Delete '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.templatesService.delete(t.Id).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchTemplates()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(a.a)((function(t){return t instanceof n.b}))).subscribe((function(e){var i=t.hasChild;t.hasChild=!!t.route.snapshot.firstChild.firstChild,!t.hasChild&&i&&(t.fetchTemplates(),t.fetchPolymorph())})))},t.\u0275fac=function(e){return new(e||t)(r.Qb(nt.a),r.Qb(n.c),r.Qb(n.a),r.Qb(E.b),r.Qb(z.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-views"]],decls:10,vars:11,consts:[[1,"grid-wrapper-nav"],[1,"ag-theme-material",3,"rowData","columnDefs","modules","frameworkComponents","enableCellTextSelection","suppressScrollOnNewData","animateRows","accentedSort","valueCache","headerHeight"],["mat-icon-button","","color","accent","matTooltip","Configure Polymorphism",3,"click"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new view",1,"grid-fab",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"ag-grid-angular",1),r.Wb(2,"div"),r.Wb(3,"button",2),r.ec("click",(function(){return e.editPolymorphisms()})),r.Wb(4,"mat-icon"),r.Pc(5,"layers"),r.Vb(),r.Pc(6),r.Vb(),r.Vb(),r.Wb(7,"button",3),r.ec("click",(function(){return e.editView(null)})),r.Wb(8,"mat-icon"),r.Pc(9,"add"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(1),r.qc("rowData",e.views)("columnDefs",e.columnDefs)("modules",e.modules)("frameworkComponents",e.frameworkComponents)("enableCellTextSelection",!0)("suppressScrollOnNewData",!0)("animateRows",!0)("accentedSort",!0)("valueCache",!0)("headerHeight",32),r.Bb(5),r.Rc(" Polymorphism ",null===(null==e.polymorphism?null:e.polymorphism.Id)?"not configured":null===e.polymorphism.Resolver?"disabled":"using "+e.polymorphism.Resolver," "))},directives:[F.a,p.b,u.a,d.a],styles:["ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 286px)}@media (max-width:600px){ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 238px)}}"]}),t}(),at=function(){function t(){}return t.prototype.agInit=function(t){this.params=t},t.prototype.refresh=function(t){return!0},t.prototype.openCode=function(){this.params.onOpenCode(this.params.data)},t.prototype.deleteApi=function(){this.params.onDelete(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-web-api-actions"]],decls:7,vars:0,consts:[[1,"actions-component"],["matRipple","","matTooltip","Code",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Delete",1,"like-button","highlight","not-implemented",2,"display","none",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.ec("click",(function(){return e.openCode()})),r.Wb(2,"mat-icon"),r.Pc(3,"code"),r.Vb(),r.Vb(),r.Wb(4,"div",2),r.ec("click",(function(){return e.deleteApi()})),r.Wb(5,"mat-icon"),r.Pc(6,"delete"),r.Vb(),r.Vb(),r.Vb())},directives:[y.q,u.a,d.a],styles:[""]}),t}(),rt=i("j05c"),st=i("+UDY"),ct=function(){function t(t,e,i,n){this.webApisService=t,this.sanitizeService=e,this.snackBar=i,this.dialogService=n,this.columnDefs=[{headerName:"Folder",field:"folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Name",field:"name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{width:80,cellClass:"secondary-action no-padding",cellRenderer:"webApiActions",cellRendererParams:{onOpenCode:this.openCode.bind(this),onDelete:this.deleteApi.bind(this)}}],this.frameworkComponents={webApiActions:at},this.modules=v.a}return t.prototype.ngOnInit=function(){this.fetchWebApis()},t.prototype.addController=function(){var t=this,e=prompt("Controller name:","TestController.cs");if(null!==e&&0!==e.length){var i=(e=(e=this.sanitizeService.sanitizeName(e)).replace(/\s/g,"")).toLocaleLowerCase(),n=i.lastIndexOf(".cs");n>0&&(i=i.substring(0,n));var o=i.lastIndexOf("controller");o>0&&(i=i.substring(0,o)),e=e.charAt(0).toLocaleUpperCase()+e.substring(1,i.length)+"Controller.cs",this.snackBar.open("Saving..."),this.webApisService.create(e).subscribe((function(e){t.snackBar.open("Saved",null,{duration:2e3}),t.fetchWebApis()}))}},t.prototype.fetchWebApis=function(){var t=this;this.webApisService.getAll().subscribe((function(e){t.webApis=e.map((function(t){var e=t.lastIndexOf("/"),i=t.lastIndexOf(".");return{folder:t.substring(0,e),name:t.substring(e+1,i)}}))}))},t.prototype.openCode=function(t){this.dialogService.openCode({items:[{Path:t.folder+"/"+t.name+".cs"}]})},t.prototype.deleteApi=function(t){alert("Delete api")},t.\u0275fac=function(e){return new(e||t)(r.Qb(rt.a),r.Qb(st.a),r.Qb(E.b),r.Qb(z.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-web-api"]],decls:5,vars:10,consts:[[1,"grid-wrapper-nav"],[1,"ag-theme-material",3,"rowData","columnDefs","modules","frameworkComponents","enableCellTextSelection","suppressScrollOnNewData","animateRows","accentedSort","valueCache","headerHeight"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new controller",1,"grid-fab",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"ag-grid-angular",1),r.Wb(2,"button",2),r.ec("click",(function(){return e.addController()})),r.Wb(3,"mat-icon"),r.Pc(4,"add"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(1),r.qc("rowData",e.webApis)("columnDefs",e.columnDefs)("modules",e.modules)("frameworkComponents",e.frameworkComponents)("enableCellTextSelection",!0)("suppressScrollOnNewData",!0)("animateRows",!0)("accentedSort",!0)("valueCache",!0)("headerHeight",32))},directives:[F.a,p.b,u.a,d.a],styles:["ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 245px)}@media (max-width:600px){ag-grid-angular.ag-theme-material[_ngcontent-%COMP%]{height:calc(100vh - 197px)}}"]}),t}(),lt=i("55Ui"),pt=i("Iv+g"),ut=i("Bata");function dt(t,e){if(1&t){var i=r.Xb();r.Wb(0,"mat-card",1),r.Wb(1,"mat-card-header"),r.Wb(2,"mat-card-title"),r.Pc(3,"App Permissions"),r.Vb(),r.Wb(4,"div",2),r.Wb(5,"button",11),r.ec("click",(function(){return r.Ec(i),r.ic().openPermissions()})),r.Wb(6,"mat-icon"),r.Pc(7,"person"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(8,"mat-card-content"),r.Pc(9," Permissions give access to people to the entire app (all content-types / data), so use with care. "),r.Vb(),r.Vb()}}var bt=function(){function t(t,e,i,n,o){this.contentItemsService=t,this.router=e,this.route=i,this.context=n,this.appDialogConfigService=o,this.eavConstants=Q.a,this.showPermissions=!1}return t.prototype.ngOnInit=function(){var t=this;this.appDialogConfigService.getDialogSettings().subscribe((function(e){t.showPermissions=!e.IsContent}))},t.prototype.edit=function(t){var e=this;this.contentItemsService.getAll(t).subscribe((function(i){if(1!==i.length)throw new Error("Found too many settings for the type "+t);var n={items:[{EntityId:i[0].Id.toString()}]};e.router.navigate(["edit/"+JSON.stringify(n)],{relativeTo:e.route.firstChild})}))},t.prototype.config=function(t){this.router.navigate(["fields/"+t],{relativeTo:this.route.firstChild})},t.prototype.openPermissions=function(){this.router.navigate(["permissions/"+Q.a.metadata.app.type+"/"+Q.a.keyTypes.number+"/"+this.context.appId],{relativeTo:this.route.firstChild})},t.prototype.exportApp=function(){this.router.navigate(["export"],{relativeTo:this.route.firstChild})},t.prototype.exportParts=function(){this.router.navigate(["export/parts"],{relativeTo:this.route.firstChild})},t.prototype.importParts=function(){this.router.navigate(["import/parts"],{relativeTo:this.route.firstChild})},t.\u0275fac=function(e){return new(e||t)(r.Qb(lt.a),r.Qb(n.c),r.Qb(n.a),r.Qb(pt.a),r.Qb(c.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-app-configuration"]],decls:61,vars:1,consts:[[1,"cards-box"],[1,"mat-elevation-z2"],[1,"actions-box"],["mat-icon-button","","matTooltip","Edit app settings",3,"click"],["mat-icon-button","","matTooltip","Configure app settings",3,"click"],["mat-icon-button","","matTooltip","Edit app resources",3,"click"],["mat-icon-button","","matTooltip","Configure app resources",3,"click"],["mat-icon-button","","matTooltip","Edit app definition",3,"click"],["class","mat-elevation-z2",4,"ngIf"],["mat-icon-button","","matTooltip","Export",3,"click"],["mat-icon-button","","matTooltip","Import",3,"click"],["mat-icon-button","","matTooltip","Edit permissions",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"mat-card",1),r.Wb(2,"mat-card-header"),r.Wb(3,"mat-card-title"),r.Pc(4,"App Settings"),r.Vb(),r.Wb(5,"div",2),r.Wb(6,"button",3),r.ec("click",(function(){return e.edit(e.eavConstants.contentTypes.settings)})),r.Wb(7,"mat-icon"),r.Pc(8,"edit"),r.Vb(),r.Vb(),r.Wb(9,"button",4),r.ec("click",(function(){return e.config(e.eavConstants.contentTypes.settings)})),r.Wb(10,"mat-icon"),r.Pc(11,"settings"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(12,"mat-card-content"),r.Pc(13,' Settings are configurations used by the app - like SQL-connection strings, default "items-to-show" numbers and things like that. They can also be multi-language, so that a setting (like default RSS-Feed) could be different in each language. '),r.Vb(),r.Vb(),r.Wb(14,"mat-card",1),r.Wb(15,"mat-card-header"),r.Wb(16,"mat-card-title"),r.Pc(17,"App Resources"),r.Vb(),r.Wb(18,"div",2),r.Wb(19,"button",5),r.ec("click",(function(){return e.edit(e.eavConstants.contentTypes.resources)})),r.Wb(20,"mat-icon"),r.Pc(21,"edit"),r.Vb(),r.Vb(),r.Wb(22,"button",6),r.ec("click",(function(){return e.config(e.eavConstants.contentTypes.resources)})),r.Wb(23,"mat-icon"),r.Pc(24,"settings"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(25,"mat-card-content"),r.Pc(26," Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and should not be used for App-Settings. "),r.Vb(),r.Vb(),r.Wb(27,"mat-card",1),r.Wb(28,"mat-card-header"),r.Wb(29,"mat-card-title"),r.Pc(30,"App Package Definition"),r.Vb(),r.Wb(31,"div",2),r.Wb(32,"button",7),r.ec("click",(function(){return e.edit(e.eavConstants.scopes.app.value)})),r.Wb(33,"mat-icon"),r.Pc(34,"edit"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(35,"mat-card-content"),r.Pc(36," The app-package definition is important when exporting/importing this app. "),r.Vb(),r.Vb(),r.Nc(37,dt,10,0,"mat-card",8),r.Wb(38,"mat-card",1),r.Wb(39,"mat-card-header"),r.Wb(40,"mat-card-title"),r.Pc(41,"Export this entire App"),r.Vb(),r.Wb(42,"div",2),r.Wb(43,"button",9),r.ec("click",(function(){return e.exportApp()})),r.Wb(44,"mat-icon"),r.Pc(45,"cloud_download"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(46,"mat-card-content"),r.Pc(47," Create an app-package (zip) which can be installed in another portal. "),r.Vb(),r.Vb(),r.Wb(48,"mat-card",1),r.Wb(49,"mat-card-header"),r.Wb(50,"mat-card-title"),r.Pc(51,"Export or Import parts of this App"),r.Vb(),r.Wb(52,"div",2),r.Wb(53,"button",9),r.ec("click",(function(){return e.exportParts()})),r.Wb(54,"mat-icon"),r.Pc(55,"cloud_download"),r.Vb(),r.Vb(),r.Wb(56,"button",10),r.ec("click",(function(){return e.importParts()})),r.Wb(57,"mat-icon"),r.Pc(58,"cloud_upload"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(59,"mat-card-content"),r.Pc(60," Create an xml containing parts of the app, e.g. content and templates. Import parts from such an xml into this app. "),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Bb(37),r.qc("ngIf",e.showPermissions))},directives:[ut.a,ut.f,ut.m,p.b,u.a,d.a,ut.d,b.t],styles:[""]}),t}();function ht(t,e){1&t&&(r.Wb(0,"div",13),r.Wb(1,"mat-icon"),r.Pc(2,"info"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"Info"),r.Vb(),r.Vb())}function mt(t,e){1&t&&(r.Wb(0,"div",14),r.Wb(1,"mat-icon"),r.Pc(2,"menu"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"Data"),r.Vb(),r.Vb())}function ft(t,e){1&t&&r.Rb(0,"app-data")}function gt(t,e){1&t&&(r.Wb(0,"div",16),r.Wb(1,"mat-icon"),r.Pc(2,"filter_list"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"Queries"),r.Vb(),r.Vb())}function vt(t,e){1&t&&r.Rb(0,"app-queries")}function yt(t,e){1&t&&(r.Wb(0,"mat-tab"),r.Nc(1,gt,5,0,"div",15),r.Nc(2,vt,1,0,"app-queries",9),r.Vb())}function Ct(t,e){1&t&&(r.Wb(0,"div",17),r.Wb(1,"mat-icon"),r.Pc(2,"layers"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"Views"),r.Vb(),r.Vb())}function Tt(t,e){1&t&&r.Rb(0,"app-views")}function Vt(t,e){1&t&&(r.Wb(0,"div",19),r.Wb(1,"mat-icon"),r.Pc(2,"offline_bolt"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"WebApi"),r.Vb(),r.Vb())}function Wt(t,e){1&t&&r.Rb(0,"app-web-api")}function wt(t,e){1&t&&(r.Wb(0,"mat-tab"),r.Nc(1,Vt,5,0,"div",18),r.Nc(2,Wt,1,0,"app-web-api",9),r.Vb())}function Pt(t,e){1&t&&(r.Wb(0,"div",20),r.Wb(1,"mat-icon"),r.Pc(2,"settings_applications"),r.Vb(),r.Wb(3,"span"),r.Pc(4,"App"),r.Vb(),r.Vb())}function kt(t,e){1&t&&r.Rb(0,"app-app-configuration")}function xt(t,e){if(1&t){var i=r.Xb();r.Wb(0,"mat-tab-group",5),r.ec("selectedTabChange",(function(t){return r.Ec(i),r.ic().changeTab(t)})),r.Wb(1,"mat-tab"),r.Nc(2,ht,5,0,"div",6),r.Rb(3,"app-getting-started",7),r.Vb(),r.Wb(4,"mat-tab"),r.Nc(5,mt,5,0,"div",8),r.Nc(6,ft,1,0,"app-data",9),r.Vb(),r.Nc(7,yt,3,0,"mat-tab",10),r.Wb(8,"mat-tab"),r.Nc(9,Ct,5,0,"div",11),r.Nc(10,Tt,1,0,"app-views",9),r.Vb(),r.Nc(11,wt,3,0,"mat-tab",10),r.Wb(12,"mat-tab"),r.Nc(13,Pt,5,0,"div",12),r.Nc(14,kt,1,0,"app-app-configuration",9),r.Vb(),r.Vb()}if(2&t){var n=r.ic();r.qc("selectedIndex",n.tabIndex),r.Bb(3),r.qc("gettingStartedUrl",n.dialogSettings.GettingStartedUrl),r.Bb(4),r.qc("ngIf",!n.dialogSettings.IsContent),r.Bb(4),r.qc("ngIf",!n.dialogSettings.IsContent)}}i.d(e,"AppAdministrationNavComponent",(function(){return St}));var St=function(){function t(t,e,i,n,a){this.dialogRef=t,this.appDialogConfigService=e,this.router=i,this.route=n,this.globalConfigurationService=a,this.tabs=["home","data","queries","views","web-api","app"],this.subscription=new o.a}return t.prototype.ngOnInit=function(){var t=this;this.subscription.add(this.appDialogConfigService.getDialogSettings().subscribe((function(e){e.IsContent&&(t.tabs=t.tabs.filter((function(t){return!("queries"===t||"web-api"===t)}))),t.tabIndex=t.tabs.indexOf(t.route.snapshot.firstChild.url[0].path),t.dialogSettings=e}))),this.subscription.add(this.router.events.pipe(Object(a.a)((function(t){return t instanceof n.b}))).subscribe((function(e){t.tabIndex=t.tabs.indexOf(t.route.snapshot.firstChild.url[0].path)})))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription=null},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.changeTab=function(t){this.router.navigate([this.tabs[t.index]],{relativeTo:this.route})},t.prototype.toggleDebugEnabled=function(t){(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&t.shiftKey&&t.altKey&&this.globalConfigurationService.toggleDebugEnabled()},t.\u0275fac=function(e){return new(e||t)(r.Qb(s.h),r.Qb(c.a),r.Qb(n.c),r.Qb(n.a),r.Qb(l.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-app-administration-nav"]],decls:10,vars:1,consts:[[3,"click"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","matTooltip","Close dialog",3,"click"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange",4,"ngIf"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","matTooltip","Getting Started",4,"matTabLabel"],[3,"gettingStartedUrl"],["class","mat-tab-label-box","matTooltip","Content",4,"matTabLabel"],[4,"matTabContent"],[4,"ngIf"],["class","mat-tab-label-box","matTooltip","Views / Templates",4,"matTabLabel"],["class","mat-tab-label-box","matTooltip","App Settings",4,"matTabLabel"],["matTooltip","Getting Started",1,"mat-tab-label-box"],["matTooltip","Content",1,"mat-tab-label-box"],["class","mat-tab-label-box","matTooltip","Query Designer",4,"matTabLabel"],["matTooltip","Query Designer",1,"mat-tab-label-box"],["matTooltip","Views / Templates",1,"mat-tab-label-box"],["class","mat-tab-label-box","matTooltip","WebApi / Data",4,"matTabLabel"],["matTooltip","WebApi / Data",1,"mat-tab-label-box"],["matTooltip","App Settings",1,"mat-tab-label-box"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.ec("click",(function(t){return e.toggleDebugEnabled(t)})),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"div"),r.Pc(4,"Administration"),r.Vb(),r.Wb(5,"button",3),r.ec("click",(function(){return e.closeDialog()})),r.Wb(6,"mat-icon"),r.Pc(7,"close"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Rb(8,"router-outlet"),r.Nc(9,xt,15,4,"mat-tab-group",4),r.Vb()),2&t&&(r.Bb(9),r.qc("ngIf",e.dialogSettings))},directives:[s.i,p.b,u.a,d.a,n.h,b.t,h.c,h.a,h.d,f,h.b,L,j,ot,ct,bt],styles:[""]}),t}()}}]);
//# sourceMappingURL=22.js.map