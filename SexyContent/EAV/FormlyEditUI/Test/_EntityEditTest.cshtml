@inherits DotNetNuke.Web.Razor.DotNetNukeWebPage

<div style="max-width:640px; padding:20px;">
	<div sxc-app="testModule" id="editEntity@(Dnn.Module.ModuleID)" ng-controller="outerAppController as vm">
		
		<div ng-repeat="entityToEdit in vm.entitiesToEdit">
			<h2>{{entityToEdit.editControlTitle}}</h2>
			<eav-edit-entity content-type-name="{{entityToEdit.contentTypeName}}" entity-id="{{entityToEdit.entityId}}" register-edit-control="vm.registerEditControl"></eav-edit-entity>
		</div>
		<button ng-disabled="!vm.isValid()" ng-click="vm.save()" class="btn btn-primary submit-button">Save</button>
	</div>
</div>

@*
<div class="dnnDropDownList" id="test">
	<a href="javascript:void(0);" title="Expand" class="selected-value"></a>
	<script type="text/javascript">
		$(document).ready(function() {
			dnn.createDropDownList(
				'test',
				{
					services: {
						getTreeMethod: 'ItemListService/GetPages',
						getNodeDescendantsMethod: 'ItemListService/GetPageDescendants',
						searchTreeMethod: 'ItemListService/SearchPages',
						getTreeWithNodeMethod: 'ItemListService/GetTreePathForPage',
						serviceRoot: 'InternalServices',
						sortTreeMethod: 'ItemListService/SortPages',
						parameters: {
							includeDisabled: true,
							includeAllTypes: true,
							includeAcitve: true,
							includeHostPages: false
							//roles: 
						}
					},
					selectedItemCss: 'selected-item'
				},
				{ 'onSelectionChanged': function () { alert('changed!'); } }
			);
		});
	</script>
	
	<link rel="stylesheet" href="@Href("~/Resources/Shared/components/DropDownList/dnn.DropDownList.css")" />
	<script src="@Href("~/Resources/Shared/Components/DropDownList/dnn.DropDownList.js")"></script>
	
	
	ClientResourceManager.RegisterStyleSheet(page, "~/Resources/Shared/scripts/jquery/dnn.jScrollBar.css");

            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/dnn.extensions.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/dnn.jquery.extensions.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/dnn.DataStructures.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/jquery/jquery.mousewheel.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/jquery/dnn.jScrollBar.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/TreeView/dnn.TreeView.js");
            ClientResourceManager.RegisterScript(page, "~/Resources/Shared/scripts/TreeView/dnn.DynamicTreeView.js");
		
</div>*@

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

<link rel="stylesheet" href="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/toaster.css")" />
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/angular.min.js")"></script>
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/angular-resource.min.js")"></script>
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/angular-animate.min.js")"></script>
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/toaster.js")"></script>
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/2sxc.api.js")"></script>
<script src="@Href("~/DesktopModules/ToSIC_SexyContent/js/angularjs/2sxc4ng.min.js")"></script>
<script src="@Href("../FieldTemplates/EavFieldTemplates.js")"></script>
<script src="@Href("../FieldTemplates/SxcFieldTemplates.js")"></script>
<script src="@Href("../EditEntity.js")"></script>
<script src="@Href("EditEntityTestRazor.js")"></script>

<!-- apiCheck is used by formly to validate its api -->
<script src="@Href("../lib/api-check.js")"></script>
<!-- This is the current state of master for formly core. -->
<script src="@Href("../lib/formly.min.js")"></script>
<!-- This is the current state of master for the bootstrap templates -->
<script src="@Href("../lib/angular-formly-templates-bootstrap.min.js")"></script>
	
<!-- AngularUI (angular bootstrap components), needed at least for datetime picker -->
<script src="@Href("../lib/ui-bootstrap-tpls-0.13.2.min.js")"></script>

<!-- Wysiwyg (JS-only version of CKEditor, no DNN integration) -->
<script src="//cdn.ckeditor.com/4.5.3/standard/ckeditor.js"></script>
<script src="@Href("../lib/ng-ckeditor.min.js")"></script>