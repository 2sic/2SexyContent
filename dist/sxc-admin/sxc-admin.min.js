/*! ToSic_ToSxc 2016-02-02 */

!function(){function a(a,b,c,d,e,f){var g=this;g.debug=d,g.view="start",e.getDialogSettings().then(function(a){g.config=a.data}),g.close=function(){f.dismiss("cancel")}}a.$inject=["eavAdminDialogs","eavConfig","appId","debugState","appDialogConfigSvc","$modalInstance"],angular.module("MainSxcApp",["EavConfiguration","SxcTemplates","EavAdminUi","EavServices","SxcFilters","ContentTypesApp","PipelineManagement","TemplatesApp","ImportExportApp","AppSettingsApp","SystemSettingsApp","WebApiApp"]).config(["$translatePartialLoaderProvider",function(a){a.addPart("sxc-admin")}]).controller("AppMain",a).factory("appDialogConfigSvc",["appId","$http",function(a,b){var c={};return c.getDialogSettings=function(){return b.get("app/system/dialogsettings",{params:{appId:a}})},c}])}(),function(){function a(a,b){var c=this,d=a(b);c.items=d.liveList(),c.ready=function(){return c.items.length>0},c.config=function(a){return d.openConfig(a)},c.edit=function(a){return d.edit(a)},c.editPackage=d.editPackage}a.$inject=["appSettings","appId"],angular.module("AppSettingsApp",["EavConfiguration","EavServices","SxcServices","SxcTemplates","EavAdminUi"]).controller("AppSettings",a)}(),function(){function a(a,b,c,d,e,f,g,h,i){var j=this,k=a(f);j.items=k.liveList(),j.refresh=k.liveListReload,j.add=function(){var a=prompt(i.instant("AppManagement.Prompt.NewApp"));a&&k.create(a)},j.tryToDelete=function(a){var b=prompt(i.instant("AppManagement.Prompt.DeleteApp",{name:a.Name,id:a.Id}));null!==b&&(b===a.Name?k["delete"](a.Id):alert(i.instant("AppManagement.Prompt.FailedDelete")))},j.manage=function(a){var b=window.location.href;b=b.replace(new RegExp("appid=[0-9]*","i"),"appid="+a.Id).replace(/approot=[^&]*/,"approot="+a.AppRoot+"/").replace("dialog=zone","dialog=app"),c.openTotal(b,k.liveListReload)},j.browseCatalog=function(){window.open("http://2sxc.org/apps")},j["import"]=function(){g.appImport(k.liveListReload)},j["export"]=function(a){g.appExport(a.Id,k.liveListReload)},j.languages=function(){c.openLanguages(f,j.refresh)},j.close=function(){h.dismiss("cancel")}}a.$inject=["appsSvc","eavAdminDialogs","sxcDialogs","eavConfig","appSettings","zoneId","oldDialogs","$modalInstance","$translate"],angular.module("AppsManagementApp",["EavServices","EavConfiguration","SxcServices","SxcTemplates","EavAdminUi","SxcAdminUi"]).config(["$translatePartialLoaderProvider",function(a){a.addPart("sxc-admin")}]).controller("AppList",a)}(),function(){function a(a){return a.load(["../lib/ag-grid/ag-grid.min.js","../lib/ag-grid/ag-grid.min.css"])}function b(b,c,d,e,f,g,h,i,j){var k=this;k.dialog=f;var l=f;switch(k.close=function(){g.closeThis()},l){case"edit":i.openEditItems(d,k.close);break;case"zone":g.openZoneMain(b,k.close);break;case"app":a(j).then(function(){g.openAppMain(c,k.close)});break;case"replace":g.openReplaceContent(d[0],k.close);break;case"sort":g.openManageContentList(d[0],k.close);break;case"develop":j.load([e.debug.renameScript("../sxc-develop/sxc-develop.min.js")]).then(function(){g.openDevelop(d[0],k.close)});break;case"contenttype":i.openContentTypeFieldsOfItems(d,k.close);break;case"contentitems":a(j).then(function(){i.openContentItems(c,h,h,k.close)});break;case"pipeline-designer":break;default:throw alert("Trying to open an unknown dialog ("+l+"). Will close again."),k.close(),"Trying to open a dialog, don't know which one"}}b.$inject=["zoneId","appId","items","$2sxc","dialog","sxcDialogs","contentTypeName","eavAdminDialogs","$ocLazyLoad"],angular.module("DialogHost",["SxcAdminUi","EavAdminUi","oc.lazyLoad"]).controller("DialogHost",b)}(),function(){angular.module("SxcFilters",[]).constant("createdBy","2sic").constant("license","MIT").filter("trustAsResourceUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]).filter("trustHtml",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}])}(),function(){function a(a,b,c,d){function e(){}var f=this;f.exportAll=function(){c.appExport(d,e)},f["import"]=function(){c.importPartial(d,e)},f["export"]=function(){c.exportPartial(d,e)}}function b(a,b,c,d){var e=this;e.close=function(){d.dismiss("cancel")}}function c(a,b,c,d){var e=this;e.close=function(){d.dismiss("cancel")}}a.$inject=["eavAdminDialogs","eavConfig","oldDialogs","appId"],b.$inject=["eavAdminDialogs","eavConfig","appId","$modalInstance"],c.$inject=["eavAdminDialogs","eavConfig","appId","$modalInstance"],angular.module("ImportExportApp",["EavConfiguration","SxcTemplates","EavAdminUi","EavServices","SxcServices"]).controller("ImportExportIntro",a).controller("Import",b).controller("Export",c)}(),function(){function a(a,b,c){var d=this,e=a();d.items=e.liveList(),d.ready=function(){return d.items.length>0},d.toggle=e.toggle,d.save=e.save}a.$inject=["languagesSvc","eavConfig","appId"],angular.module("SystemSettingsApp",["EavConfiguration","EavServices","SxcServices","SxcTemplates"]).controller("LanguageSettings",a)}(),function(){function a(a,b,c,d,e,f){var g=this;g.items=[],g.header={},g.contentGroup={id:b.EntityId,guid:b.Group.Guid,part:b.Group.Part,index:b.Group.Index};var h=c(a);g.reload=function(){return h.getList(g.contentGroup).then(function(a){g.items=a.data})},g.reload(),g.reloadHeader=function(){return h.getHeader(g.contentGroup).then(function(a){g.header=a.data})},g.reloadHeader(),g.ok=function(){h.saveList(g.contentGroup,g.items).then(g.close)},g.editHeader=function(){var a=[];a.push({Group:{Guid:g.contentGroup.guid,Index:0,Part:"listcontent",Add:"0"===g.header.Id},Title:f.instant("EditFormTitle.ListContent")}),a.push({Group:{Guid:g.contentGroup.guid,Index:0,Part:"listpresentation",Add:"0"===g.header.Id},Title:f.instant("EditFormTitle.ListPresentation")}),d.openEditItems(a,g.reloadHeader)},g.edit=function(a){return null===a||0===a?alert("no can do"):void d.openItemEditWithEntityId(a,g.reload)},g.close=function(){e.dismiss("cancel")}}a.$inject=["appId","item","contentGroupSvc","eavAdminDialogs","$modalInstance","$translate"],angular.module("ReorderContentApp",["SxcServices","EavAdminUi"]).config(["$translatePartialLoaderProvider",function(a){a.addPart("inpage")}]).controller("ManageContentList",a)}(),function(){function a(a,b,c,d,e,f){var g=this;g.options=[],g.item={id:b.EntityId,guid:b.Group.Guid,part:b.Group.Part,index:b.Group.Index};var h=c(a);g.reload=function(){return h.getItems(g.item).then(function(a){g.options=a.data.Items,g.item.id=a.data.SelectedId})},g.reload(),g.ok=function(){h.saveItem(g.item).then(g.close)},g.close=function(){e.dismiss("cancel")},g.convertToInt=function(a){return parseInt(a)},g.copySelected=function(){var a=(g.item.id,[{DuplicateEntity:g.item.id}]);d.openEditItems(a,g.reloadAfterCopy)},g.reloadAfterCopy=function(a){var b=a.data;g.reload().then(function(){g.item.id=b[Object.keys(b)[0]]})}}a.$inject=["appId","item","contentGroupSvc","eavAdminDialogs","$modalInstance","$filter"],angular.module("ReplaceContentApp",["SxcServices","EavAdminUi"]).controller("ReplaceDialog",a)}(),angular.module("SxcServices",["ng","EavConfiguration","EavServices"]),angular.module("SxcServices").factory("appSettings",["$http","eavConfig","svcCreator","contentTypeSvc","contentItemsSvc","eavAdminDialogs","$filter",function(a,b,c,d,e,f,g){return function(a){var b=d(a,"2SexyContent-App");return b.promise=b.liveListReload(),b.openConfig=function(a,c){return b.promise.then(function(){var d=b.liveList(),e=g("filter")(d,{StaticName:a},!0);if(1!==e.length)throw"Found too many settings for the type "+a;var h=e[0];return f.openContentTypeFields(h,c)})},b.edit=function(a,c){return b.promise.then(function(){var d=e(b.appId,a);return d.liveListReload().then(function(b){var d=b.data;if(1!==d.length)throw"Found too many settings for the type "+a;var e=d[0];return f.openItemEditWithEntityId(e.Id,c)})})},b.editPackage=function(a){return b.edit("2SexyContent-App",a)},b}}]),angular.module("SxcServices").factory("appsSvc",["$http","eavConfig","svcCreator",function(a,b,c){return function(b){var d={zoneId:b};return d=angular.extend(d,c.implementLiveList(function(){return a.get("app/system/apps",{params:{zoneId:d.zoneId}})})),d.create=function(b){return a.post("app/system/app",{},{params:{zoneId:d.zoneId,name:b}}).then(d.liveListReload)},d["delete"]=function(b){return a.get("app/system/deleteapp",{params:{zoneId:d.zoneId,appId:b}}).then(d.liveListReload)},d}}]),angular.module("SxcServices").factory("contentGroupSvc",["$http","eavConfig","svcCreator","$resource",function(a,b,c,d){return function(b){var c={getItems:function(c){return a.get("app/contentgroup/replace",{params:{appId:b,guid:c.guid,part:c.part,index:c.index}})},saveItem:function(b){return a.post("app/contentgroup/replace",{},{params:{guid:b.guid,part:b.part,index:b.index,entityId:b.id}})},getList:function(c){return a.get("app/contentgroup/itemlist",{params:{appId:b,guid:c.guid}})},saveList:function(c,d){return a.post("app/contentgroup/itemlist",d,{params:{appId:b,guid:c.guid}})},getHeader:function(c){return a.get("app/contentgroup/header",{params:{appId:b,guid:c.guid}})}};return c}}]),angular.module("SxcServices").factory("importExportSvc",["$http","eavConfig","svcCreator",function(a,b,c){return function(b){var d={appId:b};return d=angular.extend(d,c.implementLiveList(function(){return a.get("app/template/getall",{params:{appId:d.appId}})})),d["delete"]=function(b){return a["delete"]("sxc/templates/delete",{params:{appId:d.appId,id:b}}).then(d.liveListReload)},d}}]),angular.module("InitSxcParametersFromUrl",["2sxc4ng"]).factory("dialog",["$2sxc",function(a){return a.urlParams.get("dialog")}]).factory("tabId",["$2sxc",function(a){return a.urlParams.get("tid")}]).factory("websiteRoot",["$2sxc",function(a){return a.urlParams.get("websiteroot")}]).factory("systemRoot",["websiteRoot",function(a){return a+"desktopmodules/tosic_sexycontent/"}]).factory("portalRoot",["$2sxc",function(a){return a.urlParams.get("portalroot")}]).factory("appRoot",["$2sxc",function(a){return a.urlParams.get("appRoot")}]).factory("items",["$2sxc",function(a){var b=a.urlParams.get("items");return b?b?JSON.parse(b):null:void 0}]),angular.module("SxcServices").factory("languagesSvc",["$http","eavConfig","svcCreator",function(a,b,c){return function(b){var d={appId:b};return d=angular.extend(d,c.implementLiveList(function(){return a.get("app/system/getlanguages")})),d.toggle=function(b){return a.get("app/system/switchlanguage",{params:{cultureCode:b.Code,enable:!b.IsEnabled}}).then(d.liveListReload)},d.save=function(b){return a.get("app/system/switchlanguage",{params:{cultureCode:b.Code,enable:b.IsEnabled}}).then(d.liveListReload)},d}}]),angular.module("SxcAdminUi",["ng","ui.bootstrap","MainSxcApp","AppsManagementApp","ReplaceContentApp","ReorderContentApp","SystemSettingsApp","SxcTemplates","SxcEditTemplates","sxcFieldTemplates","EavAdminUi"]).factory("oldDialogs",["tabId","AppInstanceId","appId","websiteRoot","$q",function(a,b,c,d,e){var f={};return f.oldRootUrl=d+"Default.aspx?tabid={{tabid}}&mid={{mid}}&ctl={{ctl}}&appid={{appid}}&popUp=true".replace("{{tabid}}",a).replace("{{mid}}",b),f.getUrl=function(a,b){return f.oldRootUrl.replace("{{appid}}",b||c).replace("{{ctl}}",a)},f.showInfoOld=function(){},f.openPromiseWindow=function(a,b){window.Promise||(PromiseWindow.defaultConfig.promiseProvider=PromiseWindow.getAPlusPromiseProvider(e)),PromiseWindow.open(a).then(b,b)},f.editTemplate=function(a,b){f.showInfoOld();var c=f.getUrl("edittemplate")+(0===a?"":"&templateid="+a);f.openPromiseWindow(c,b)},f.appExport=function(a,b){f.showInfoOld();var c=f.getUrl("appexport",a);f.openPromiseWindow(c,b)},f.appImport=function(a,b){f.showInfoOld();var c=f.getUrl("appimport",a);f.openPromiseWindow(c,b)},f.exportPartial=function(a){f.showInfoOld();var b=f.getUrl("export",0);f.openPromiseWindow(b,a)},f.importPartial=function(a,b){f.showInfoOld();var c=f.getUrl("import",a);f.openPromiseWindow(c,b)},f}]).factory("sxcDialogs",["$modal","eavAdminDialogs",function(a,b){var c={};return c.openZoneMain=function(a,c){var d=b.CreateResolve({zoneId:a});return b.OpenModal("apps-management/apps.html","AppList as vm","xlg",d,c)},c.openAppMain=function(a,c){var d=b.CreateResolve({appId:a});return b.OpenModal("app-main/app-main.html","AppMain as vm","xlg",d,c)},c.openTotal=function(a,b){return $2sxc.totalPopup.open(c.browserFixUrlCaching(a),b)},c.browserFixUrlCaching=function(a){var b=/(\/ui.html(\?time=[0-9]*)*)#/gi;return a.match(b)&&(a=a.replace(b,"/ui.html?time="+(new Date).getTime()+"#")),a},c.closeThis=function(){return $2sxc.totalPopup.closeThis()},c.openReplaceContent=function(a,c){var d=b.CreateResolve({item:a});return b.OpenModal("replace-content/replace-content.html","ReplaceDialog as vm","lg",d,c)},c.openManageContentList=function(a,c){var d=b.CreateResolve({item:a});return b.OpenModal("manage-content-list/manage-content-list.html","ManageContentList as vm","",d,c)},c.openDevelop=function(a,c){var d=b.CreateResolve({item:a});return b.OpenModal("source-editor/editor.html","Editor as vm","xlg",d,c)},c.openLanguages=function(a,c){var d=b.CreateResolve({zoneId:a});return b.OpenModal("language-settings/languages.html","LanguageSettings as vm","lg",d,c)},c}]),angular.module("SxcServices").factory("templatesSvc",["$http","eavConfig","svcCreator",function(a,b,c){return function(b){var d={appId:b};return d=angular.extend(d,c.implementLiveList(function(){return a.get("app/template/getall",{params:{appId:d.appId}})})),d["delete"]=function(b){return a.get("app/template/delete",{params:{appId:d.appId,Id:b}}).then(d.liveListReload)},d}}]),angular.module("SxcServices").factory("webApiSvc",["$http","eavConfig","svcCreator",function(a,b,c){return function(b){var d={appId:b};return d=angular.extend(d,c.implementLiveList(function(){return a.get("app/system/webapifiles",{params:{appId:d.appId}})}))}}]),angular.module("SxcTemplates",[]).run(["$templateCache",function(a){"use strict";a.put("app-main/app-main.html",'<div ng-click=vm.debug.autoEnableAsNeeded($event)><div class=modal-header><button class="btn btn-default btn-square btn-subtle pull-right" type=button ng-click=vm.close()><i icon=remove></i></button><h3 class=modal-title translate=Main.Title></h3></div><div class=modal-body><div><tabset><tab><tab-heading><span tooltip="{{\'Main.Tab.GettingStarted\' | translate }}"><i icon=home></i> {{\'Main.Tab.GS\' | translate | trustHtml }}</span></tab-heading><iframe ng-src="{{ vm.config.GettingStartedUrl | trustAsResourceUrl }}" style="border: none; width: 100%; height: 500px"></iframe><div ng-hide=true>original script, maybe we need it $(document).ready(function () { $(window).bind("resize", function () { var GettingStartedFrame = $(".sc-iframe-gettingstarted"); GettingStartedFrame.height($(window).height() - 50); }); $(window).trigger("resize"); });</div></tab><tab select="vm.view=\'content\'"><tab-heading><span icon=list tooltip="{{\'Main.Tab.ContentData\' | translate }}"></span> {{\'Main.Tab.CD\' | translate }}</tab-heading><div ng-if="vm.view == \'content\'"><div ng-controller="List as vm" ng-include="\'content-types/content-types.html\'"></div></div></tab><tab select="vm.view=\'query\'" ng-if=!vm.config.IsContent><tab-heading><span icon=filter tooltip="{{\'Main.Tab.Query\' | translate }}"></span> {{\'Main.Tab.Q\' | translate }}</tab-heading><div ng-if="vm.view == \'query\'"><div ng-controller="PipelineManagement as vm" ng-include="\'pipelines/pipelines.html\'"></div></div></tab><tab select="vm.view=\'view\'"><tab-heading><span icon=picture tooltip="{{\'Main.Tab.ViewsTemplates\' | translate }}"></span> {{\'Main.Tab.VT\' | translate }}</tab-heading><div ng-if="vm.view == \'view\'"><div ng-controller="TemplateList as vm" ng-include="\'templates/templates.html\'"></div></div></tab><tab select="vm.view=\'webapi\'" ng-if=!vm.config.IsContent><tab-heading><span icon=flash tooltip="{{\'Main.Tab.WebApi\' | translate }}"></span> {{\'Main.Tab.WA\' | translate }}</tab-heading><div ng-if="vm.view == \'webapi\'"><div ng-controller="WebApiMain as vm" ng-include="\'web-api/web-api.html\'"></div></div></tab><tab select="vm.view=\'app\'"><tab-heading><span icon=unchecked tooltip="{{\'Main.Tab.AppSettings\' | translate }}"></span> {{\'Main.Tab.AS\' | translate }}</tab-heading><div ng-if="vm.view == \'app\'"><div ng-if=!vm.config.IsContent><div ng-controller="AppSettings as vm" ng-include="\'app-settings/app-settings.html\'"></div><br></div><div ng-controller="ImportExportIntro as vm" ng-include="\'importexport/intro.html\'"></div></div></tab><tab select="vm.view=\'portal\'"><tab-heading><span icon=globe tooltip="{{\'Main.Tab.PortalLanguages\' | translate }}"></span> {{\'Main.Tab.PL\' | translate }}</tab-heading><div ng-if="vm.view == \'portal\'"><h3 translate=Main.Portal.Title></h3><div translate=Main.Portal.Intro></div><div ng-controller="LanguageSettings as vm" ng-include="\'language-settings/languages.html\'"></div></div></tab></tabset></div></div><show-debug-availability class=pull-right></show-debug-availability></div>'),a.put("app-settings/app-settings.html",'<div class=modal-body><h3 translate=AppConfig.Title></h3><div translate=AppConfig.Intro></div><div><div class="pull-left btn-group-vertical"><button tooltip="{{ \'AppConfig.Settings.Edit\' | translate }}" ng-disabled=!vm.ready() ng-click="vm.edit(\'App-Settings\')" class="btn btn-primary btn-square" type=button><i icon=pencil></i></button> <button tooltip="{{ \'AppConfig.Settings.Config\' | translate }}" ng-disabled=!vm.ready() ng-click="vm.config(\'App-Settings\')" class="btn btn-default btn-square" type=button><i icon=cog></i></button></div><div style="margin-left: 50px"><h4 class=modal-title translate=AppConfig.Settings.Title></h4><div translate=AppConfig.Settings.Intro></div></div></div><br><div><div class="pull-left btn-group-vertical"><button tooltip="{{\'AppConfig.Resources.Edit\' | translate}}" ng-disabled=!vm.ready() ng-click="vm.edit(\'App-Resources\')" class="btn btn-square btn-primary" type=button><i icon=pencil></i></button> <button tooltip="{{\'AppConfig.Resources.Config\' | translate}}" ng-disabled=!vm.ready() ng-click="vm.config(\'App-Resources\')" class="btn btn-square btn-default" type=button><i icon=cog></i></button></div><div style="margin-left: 50px"><h4 class=modal-title translate=AppConfig.Resources.Title></h4><div translate=AppConfig.Resources.Intro></div></div></div><br><div><div class="pull-left btn-group-vertical"><button tooltip="{{\'AppConfig.Definition.Edit\' | translate}}" ng-disabled=!vm.ready() ng-click=vm.editPackage() class="btn btn-primary btn-square" type=button><i icon=cog></i></button></div><div style="margin-left: 50px"><h4 class=modal-title translate=AppConfig.Definition.Title></h4><div translate=AppConfig.Definition.Intro></div></div></div></div>'),a.put("apps-management/apps.html",'<div><div class=modal-header><button icon=remove class="btn btn-default btn-square btn-subtle pull-right" type=button ng-click=vm.close()></button><h3 class=modal-title translate=AppManagement.Title></h3></div><div class=modal-body><span class=btn-group><button type=button class="btn btn-primary" ng-click=vm.browseCatalog()><span icon=search></span> {{ \'AppManagement.Buttons.Browse\' | translate }}</button> <button type=button class=btn ng-click=vm.import()><span icon=import tooltip="{{ \'AppManagement.Buttons.Import\' | translate }}"></span></button> <button type=button class=btn ng-click=vm.add()><span icon=plus tooltip="{{ \'AppManagement.Buttons.Create\' | translate }}"></span></button> <button type=button class=btn ng-click=vm.refresh()><span icon=repeat></span></button> <button type=button class=btn ng-click=vm.languages()><span icon=globe></span></button></span><table class="table table-hover"><thead><tr><th translate=AppManagement.Table.Name></th><th translate=AppManagement.Table.Folder></th><th><span icon=eye-open tooltip="{{ \'AppManagement.Table.Show\' | translate }}"></span></th><th translate=AppManagement.Table.Actions></th></tr></thead><tbody><tr ng-repeat="item in vm.items | orderBy:\'Title\'" ng-click=vm.manage(item)><td class=clickable><span tooltip="\r\nId: {{item.Id}}\r\nGuid: {{item.Guid}}">{{item.Name}}</span></td><td class=clickable>{{item.Folder}}</td><td><span icon="{{ item.IsHidden ? \'eye-close\' : \'eye-open\' }}"></span></td><td stop-event=click><button icon=export class="btn btn-xs" type=button ng-click=vm.export(item)></button> <button icon=remove ng-disabled={{!item.IsApp}} type=button class="btn btn-xs" ng-click=vm.tryToDelete(item)></button></td></tr><tr ng-if=!vm.items.length><td colspan=100 translate=General.Messages.NothingFound></td></tr></tbody></table></div></div>'),a.put("importexport/export.html",'<div><div class=modal-header><button icon=remove class="btn pull-right" type=button ng-click=vm.close()></button><h3 class=modal-title translate=ImportExport.Export.Title></h3></div><div class=modal-body><div translate=ImportExport.Export.Intro></div><div translate=ImportExport.Export.FurtherHelp></div>todo: 2tk export stuff + messages, errors etc.</div></div>'),a.put("importexport/import.html",'<div><div class=modal-header><button icon=remove class="btn pull-right" type=button ng-click=vm.close()></button><h3 class=modal-title translate=ImportExport.Import.Title></h3></div><div class=modal-body>todo import<div translate=ImportExport.Import.Explanation></div>todo 2tk - upload, and following messages, errors etc.</div></div>'),a.put("importexport/intro.html",'<div class=modal-body><div><div class="pull-left btn-group-vertical"><button tooltip="{{\'AppConfig.Export.Button\' | translate}}" ng-click=vm.exportAll() class="btn btn-square btn-primary" type=button><i icon=export></i></button></div><div style="margin-left: 50px"><h4 class=modal-title translate=AppConfig.Export.Title></h4><div translate=AppConfig.Export.Intro></div></div></div><br><div><div class="pull-left btn-group-vertical"><button tooltip="{{\'ImportExport.Buttons.Export\' | translate}}" ng-click=vm.export() class="btn btn-square btn-primary" type=button><i icon=export></i></button> <button tooltip="{{\'ImportExport.Buttons.Import\' | translate}}" ng-click=vm.import() class="btn btn-square btn-primary" type=button><i icon=import></i></button></div><div style="margin-left: 50px"><h4 class=modal-title translate=ImportExport.Title></h4><div translate=ImportExport.Intro></div><div translate=ImportExport.FurtherHelp></div></div></div></div>'),a.put("language-settings/languages.html",'<div><div class=modal-header><h4 translate=Language.Title></h4></div><div class=modal-body><div translate=Language.Intro></div><table class="table table-hover"><thead><tr><th translate=Language.Table.Code></th><th translate=Language.Table.Culture></th><th translate=Language.Table.Status></th></tr></thead><tbody><tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']" class=clickable-row ng-click=vm.toggle(item)><td class=clickable>{{item.Code}}</td><td class=clickable>{{item.Culture}}</td><td class="clickable text-nowrap"><span ng-click=vm.save(item) stop-event=click><switch ng-model=item.IsEnabled></switch></span></td></tr><tr ng-if=!vm.items.length><td colspan=100 translate=General.Messages.NothingFound></td></tr></tbody></table>&nbsp;</div></div>'),a.put("manage-content-list/manage-content-list.html",'<div class=modal-header><button class="btn btn-default btn-square btn-subtle pull-right" type=button ng-click=vm.close()><i icon=remove></i></button><h3 class=modal-title translate=ManageContentList.Title></h3></div><div><div class=modal-body><div><p translate=ManageContentList.HeaderIntro></p><div><a ng-if=vm.header.Type ng-click=vm.editHeader()>{{ vm.header.Title }} <i icon=pencil class=pull-right></i></a> <span ng-if=!vm.header.Type translate=ManageContentList.NoHeaderInThisList></span></div><br></div><div><p translate=ManageContentList.Intro></p><div ui-tree=options data-empty-placeholder-enabled=false><ol ui-tree-nodes ng-model=vm.items><li ng-repeat="item in vm.items" ui-tree-node class=eav-entityselect-item style="width: 100%"><div ui-tree-handle><i icon=move title="{{ \'FieldType.Entity.DragMove\' | translate }}" class="pull-left eav-entityselect-sort"></i> <span>&nbsp;{{item.Title}} ({{item.Id}})</span> <span class=eav-entityselect-item-actions><span ng-if="item.Id !== 0" data-nodrag title="{{ \'FieldType.Entity.Edit\' | translate }}" ng-click=vm.edit(item.Id)><i icon=pencil></i></span></span></div></li></ol></div></div></div></div><div class=modal-footer><button class="btn btn-primary btn-square btn-lg pull-left" type=button ng-click=vm.ok()><i icon=ok></i></button></div>'),a.put("replace-content/replace-content.html",'<div class=modal-header><button class="btn btn-default btn-square btn-subtle pull-right" type=button ng-click=vm.close()><i icon=remove></i></button><h3 class=modal-title translate=ReplaceContent.Title></h3></div><div><div class=modal-body><p translate=ReplaceContent.Intro></p><div translate=ReplaceContent.ChooseItem></div><div><select class=input-lg ng-model=vm.item.id ng-options="vm.convertToInt(key) as ((value || \'[?]\') + \' (\' + key + \')\') for (key,value) in vm.options"></select>&nbsp;<button type=button class="btn btn-lg" ng-click=vm.copySelected()><i icon=duplicate></i></button></div></div></div><div class=modal-footer><button class="btn btn-primary btn-square btn-lg pull-left" type=button ng-click=vm.ok()><i icon=ok></i></button></div>'),a.put("templates/edit.html",'<div class=modal-header><button class="btn pull-right" type=button ng-click=vm.close()><span class="glyphicon glyphicon-remove"></span></button><h3 class=modal-title translate=TemplateEdit.Title></h3></div><div class=modal-body>For template metadata - not for source... todo todo todo</div><style>.tooltip-inner {\r\n    white-space:pre-wrap;\r\n}</style>'),a.put("templates/templates.html",'<div class=modal-body><button icon=plus type=button class="btn btn-primary btn-square" ng-click=vm.add()></button> <span class=btn-group ng-if=vm.debug.on><button icon=repeat type=button class="btn btn-square" ng-click=vm.refresh()></button></span><table class="table table-hover"><thead><tr><th translate=Templates.Table.TName></th><th translate=Templates.Table.TPath></th><th translate=Templates.Table.CType></th><th translate=Templates.Table.DemoC></th><th><span tooltip="{{\'Templates.Table.Show\' | translate}}"><i icon=eye-open></i></span></th><th translate=Templates.Table.UrlKey></th><th translate=Templates.Table.Actions></th></tr></thead><tbody><tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']" class=clickable-row ng-click=vm.edit(item)><td class=clickable>{{item.Name}}</td><td class=clickable><span tooltip={{item.TemplatePath}}>...{{item.TemplatePath.split("/").pop()}}</span></td><td class=clickable><span tooltip="\r\nCont: {{item.ContentType.Name}} ({{item.ContentType.Id}})\r\nPres: {{item.PresentationType.Name}} ({{item.PresentationType.Id}})\r\nListC: {{item.ListContentType.Name}} ({{item.ListContentType.Id}})\r\nListP: {{item.ListPresentationType.Name}} ({{item.ListPresentationType.Id}})\r\n">{{item.ContentType.Name}}</span></td><td class=clickable><span tooltip="\r\nDemo: {{item.ContentType.DemoTitle}} ({{item.ContentType.DemoId}})\r\nPres: {{item.PresentationType.DemoTitle}} ({{item.PresentationType.DemoId}})\r\nListC: {{item.ListContentType.DemoTitle}} ({{item.ListContentType.DemoId}})\r\nListP: {{item.ListPresentationType.DemoTitle}} ({{item.ListPresentationType.DemoId}})\r\n">{{item.ContentType.DemoId}}</span></td><td><span icon="{{ item.IsHidden ? \'close\' : \'eye-open\'}}"></span></td><td class=clickable><span tooltip={{item.ViewNameInUrl}}>{{item.ViewNameInUrl}}</span></td><td class=text-nowrap stop-event=click><button type=button class="btn btn-xs btn-square" ng-click=vm.permissions(item)><i icon=user></i></button> <button type=button class="btn btn-xs btn-square" ng-click=vm.tryToDelete(item)><span icon=remove></span></button></td></tr><tr ng-if=!vm.items.length><td colspan=100 translate=General.Messages.NothingFound></td></tr></tbody></table><div translate=Templates.InfoHideAdvanced></div></div>'),a.put("web-api/web-api.html",'<div class=modal-header><h3 class=modal-title translate=WebApi.Title></h3></div><div class=modal-body><p translate=WebApi.Intro></p><button icon=plus type=button class="btn btn-square" ng-click=vm.add()></button> <button icon=repeat type=button class="btn btn-square" ng-click=vm.refresh()></button><table class="table table-hover"><thead><tr><th translate=WebApi.ListTitle></th></tr></thead><tbody><tr ng-repeat="item in vm.items | orderBy:[\'ContentType.Name\',\'Name\']"><td><span tooltip={{item.TemplatePath}}>{{item}}</span></td></tr><tr ng-if=!vm.items.length><td colspan=100 translate=General.Messages.NothingFound></td></tr></tbody></table><p translate=WebApi.QuickStart></p></div>')}]),function(){function a(a,b,c,d,e,f,g,h,i){var j=this;j.debug=e;var k=a(d);j.edit=function(a){f.editTemplate(a.Id,k.liveListReload)},j.add=function(){f.editTemplate(0,k.liveListReload)},j.items=k.liveList(),j.refresh=k.liveListReload,j.permissions=function(a){return b.openPermissionsForGuid(d,a.Guid,k.liveListReload)},j.tryToDelete=function(a){confirm(g.instant("General.Questions.DeleteEntity",{title:a.Name,id:a.Id}))&&k["delete"](a.Id)},j.close=function(){h.dismiss("cancel")}}a.$inject=["templatesSvc","eavAdminDialogs","eavConfig","appId","debugState","oldDialogs","$translate","$modalInstance","$sce"],angular.module("TemplatesApp",["SxcServices","EavConfiguration","EavAdminUi","EavServices","EavDirectives"]).controller("TemplateList",a)}(),function(){function a(a,b,c,d,e){var f=this;f.items=a.liveList(),f.close=function(){e.dismiss("cancel")}}a.$inject=["svc","eavAdminDialogs","eavConfig","appId","$modalInstance"],angular.module("TemplatesApp").controller("TemplateEdit",a)}(),function(){function a(a,b,c,d,e){var f=this,g=b(a);f.items=g.liveList(),f.refresh=g.liveListReload,f.add=function(){alert(e.instant("WebApi.AddDoesntExist"))},f.tryToDelete=function(a){confirm(e.instant("General.Messages.DeleteEntity",{title:a.Title,id:a.Id}))&&g["delete"](a.Id)},f.close=function(){d.dismiss("cancel")}}a.$inject=["appId","webApiSvc","eavAdminDialogs","$modalInstance","$translate"],angular.module("WebApiApp",["SxcServices","EavAdminUi","EavServices","EavDirectives"]).controller("WebApiMain",a)}();
//# sourceMappingURL=sxc-admin.min.js.map