
<div ng-cloak ng-show="vm.manageInfo.templateChooserVisible" class="dnnFormMessage dnnFormInfo">
    <div class="sc-selectors">
        <!-- App Selector - only relevant in App-Mode -->
        <div ng-show="!vm.manageInfo.isContentApp">
            <select ng-model="vm.appId" class="sc-selector-app"
                    ng-options="a.AppId as (a.Name.indexOf('TemplatePicker.') === 0 ? '[+] ' + (a.Name | translate) : a.Name) for a in vm.apps"
                    ng-disabled="vm.manageInfo.hasContent || vm.manageInfo.isList">
                <option value="" ng-disabled="vm.appId != null" translate="TemplatePicker.AppPickerDefault"></option>
            </select>

            <!-- todo: buttons here which are currently further down-->
        </div>


            <!-- Content Type selector, only for Content-Mode -->
            <select ng-show="vm.manageInfo.isContentApp" ng-model="vm.contentTypeId" class="sc-selector-contenttype"
                    ng-options="c.StaticName as c.Name for c in vm.contentTypes"
                    ng-disabled="vm.manageInfo.hasContent || vm.manageInfo.isList">
                <option ng-disabled="vm.contentTypeId != ''" value="" translate="TemplatePicker.ContentTypePickerDefault"></option>
            </select>

            <!-- View / template selector -->
            <select ng-show="vm.manageInfo.isContentApp ? vm.contentTypeId != 0 : (vm.savedAppId != null &&  vm.filteredTemplates().length > 1)"
                    ng-model="vm.templateId" class="sc-selector-template"
                    ng-options="t.TemplateId as t.Name for t in vm.filteredTemplates(vm.contentTypeId)"></select>
        </div>

    <div class="sc-selector-app-actions">
        <span ng-if="vm.showAdvanced && !vm.manageInfo.isContentApp">
            <a class="sc-selector-save"
               ng-if="vm.appId != null"
               ng-click="vm.appSettings();"
               title="{{ 'Toolbar.App' | translate }}">
                <span>
                    <i class="icon-sxc-settings"></i>
                </span>
            </a>
            <a class="sc-selector-save"
               ng-click="vm.installApp();"
               title="{{ 'TemplatePicker.GetMoreApps' | translate }}">
                <span>
                    <i class="icon-sxc-plus"></i>
                </span>
            </a>
            <a class="sc-selector-save"
               ng-click="vm.manageApps();"
               title="{{ 'Toolbar.Zone' | translate }}">
                <span>
                    <i class="icon-sxc-manage"></i>
                </span>
            </a>

        </span>
    </div>
    <div class="sc-selector-actions">
        <a ng-show="vm.templateId != null && vm.savedTemplateId != vm.templateId" class="sc-selector-save"
           ng-click="vm.persistTemplate(false, false);"
           title="{{ 'TemplatePicker.Save' | translate }}">
            <span>
                <i class="icon-sxc-ok"></i>
            </span>
        </a>
        <a ng-show="vm.undoTemplateId != null" class="sc-selector-close" ng-click="vm.cancelTemplateChange();"
           title="{{ 'TemplatePicker.' + (vm.manageInfo.isContentApp ? 'Cancel' : 'Close') | translate }}">
            <span>
                <i class="icon-sxc-cancel"></i>
            </span>
        </a>
    </div>
    <div class="sc-loading" ng-show="vm.loading">
        <i class="icon-sxc-spinner fa-spin"></i>
    </div>

    <!-- the auto-installer IFrame, with spinner and everything -->
    <div style="position: relative;" ng-if="vm.showRemoteInstaller">
        <iframe id="frGettingStarted" ng-src="{{vm.remoteInstallerUrl}}" width="100%" height="300px"></iframe>
        <div class="sc-loading" id="pnlLoading" style="display:none;">
            <i class="icon-sxc-spinner animate-spin"></i>
            <br />
            <br />
            <span class="sc-loading-label">
                installing <span id="packageName">.</span>
            </span>
        </div>
    </div>
</div>
